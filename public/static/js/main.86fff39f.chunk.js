(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{363:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),o=a.n(r),i=a(18),c=a.n(i),s=a(33),l=a(26),d=a(21),u=a(216),j=a(430),m=a(431),b=a(429),p=a.n(b),O=a(38),g=a.n(O),h=a(55),x=a(14),f=a(405),v=a(437),y=a(411),w=a(412),C=a(105),S=a(409),N=a(54);function P(){var e=Object(N.a)(["\n    query Me {\n  me {\n    ...RegularUser\n  }\n}\n    ",""]);return P=function(){return e},e}function k(){var e=Object(N.a)(["\n    query GetPosts($limit: Int!, $page: Int!) {\n  getPosts(input: {limit: $limit, page: $page}) {\n    hasNext\n    posts {\n      ...PostResponse\n    }\n    error\n    count\n  }\n}\n    ",""]);return k=function(){return e},e}function L(){var e=Object(N.a)(["\n    mutation Register($email: String!, $password: String!, $name: String!, $dob: DateTime!) {\n  register(input: {email: $email, password: $password, name: $name, dob: $dob}) {\n    ...RegularUserResponse\n  }\n}\n    ",""]);return L=function(){return e},e}function q(){var e=Object(N.a)(["\n    mutation logout {\n  logout\n}\n    "]);return q=function(){return e},e}function T(){var e=Object(N.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(input: {email: $email, password: $password}) {\n    ...RegularUserResponse\n  }\n}\n    ",""]);return T=function(){return e},e}function R(){var e=Object(N.a)(["\n    mutation LikePost($postId: Int!) {\n  likePost(postId: $postId)\n}\n    "]);return R=function(){return e},e}function D(){var e=Object(N.a)(["\n    mutation AddNewPost($picture: Upload, $content: String!) {\n  addNewPost(input: {picture: $picture, content: $content}) {\n    post {\n      ...PostResponse\n    }\n    error\n  }\n}\n    ",""]);return D=function(){return e},e}function $(){var e=Object(N.a)(["\n    fragment RegularUserResponse on UserResponse {\n  error\n  user {\n    ...RegularUser\n  }\n}\n    ",""]);return $=function(){return e},e}function F(){var e=Object(N.a)(["\n    fragment RegularUser on User {\n  id\n  name\n}\n    "]);return F=function(){return e},e}function U(){var e=Object(N.a)(["\n    fragment PostResponse on Post {\n  id\n  content\n  imagePath\n  numberOfLikes\n  hasUserLiked\n  createdAt\n  creator {\n    name\n  }\n}\n    "]);return U=function(){return e},e}var E=Object(d.gql)(U()),I=Object(d.gql)(F()),M=Object(d.gql)($(),I),A=Object(d.gql)(D(),E);var W=Object(d.gql)(R());var B=Object(d.gql)(T(),M);var Q=Object(d.gql)(q());var z=Object(d.gql)(L(),M);var G=Object(d.gql)(k(),E);var H=Object(d.gql)(P(),I);function V(e){return d.useQuery(H,e)}var _=a(435),J=a(410),K=a(126),X=a.n(K),Y=Object(f.a)((function(e){return{close:{padding:e.spacing(.5)}}})),Z=function(e){var t=e.open,a=e.handleClose,r=e.message,o=Y();return Object(n.jsx)(_.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:6e3,onClose:a,message:r,action:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S.a,{color:"secondary",size:"small",onClick:a,children:"UNDO"}),Object(n.jsx)(J.a,{"aria-label":"close",color:"inherit",className:o.close,onClick:a,children:Object(n.jsx)(X.a,{})})]})},r)},ee=Object(f.a)((function(e){return Object(v.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),te=function(){var e,t,a=ee(),o=V(),i=Object(l.h)(),c=Object(l.g)(),u=d.useMutation(Q,t),j=Object(x.a)(u,1)[0],m=Object(r.useState)(""),b=Object(x.a)(m,2),p=b[0],O=b[1],f=Object(r.useState)(!1),v=Object(x.a)(f,2),N=v[0],P=v[1],k=function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j({update:function(e,t){t.data;e.evict({fieldName:"me"}),O("Successfully Logged Out"),P(!0)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)(y.a,{position:"static",children:[Object(n.jsxs)(w.a,{children:[Object(n.jsx)(C.a,{variant:"h6",className:a.title,children:"Demo App"}),"/"!==i.pathname?Object(n.jsx)(S.a,{component:s.b,to:"/",color:"inherit",children:"Home"}):null,o.loading?Object(n.jsx)(n.Fragment,{}):(null===(e=o.data)||void 0===e?void 0:e.me)?i.pathname.includes("/login")||i.pathname.includes("/register")?c.push("/"):Object(n.jsxs)(n.Fragment,{children:[i.pathname.includes("/posts")?null:Object(n.jsx)(S.a,{component:s.b,to:"/posts",color:"inherit",children:"Posts"}),Object(n.jsx)(S.a,{color:"inherit",onClick:k,children:"Logout"})]}):i.pathname.includes("/login")||i.pathname.includes("/register")||"/"!==i.pathname?i.pathname.includes("/login")||i.pathname.includes("/register")?null:c.push("/login"):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S.a,{component:s.b,to:"/login",color:"inherit",children:"Login"}),Object(n.jsx)(S.a,{component:s.b,to:"/register",color:"inherit",children:"Register"})]})]}),Object(n.jsx)(Z,{message:p,open:N,handleClose:function(e,t){"clickaway"!==t&&P(!1)}})]})})},ae=o.a.createContext({primaryColor:"#1976d2",secondaryColor:"#DC004E",setPrimaryColor:function(){},setSecondaryColor:function(){}}),ne=function(e){var t=e.children,a=Object(r.useState)("#1976d2"),o=Object(x.a)(a,2),i=o[0],c=o[1],s=Object(r.useState)("#DC004E"),l=Object(x.a)(s,2),d=l[0],u=l[1];return Object(n.jsx)(ae.Provider,{value:{primaryColor:i,secondaryColor:d,setPrimaryColor:function(e){c(e)},setSecondaryColor:function(e){u(e)}},children:t})},re=o.a.createContext({loader:null,showLoader:function(){},hideLoader:function(){}}),oe=function(e){var t=e.children,a=Object(r.useRef)();return Object(n.jsx)(re.Provider,{value:{loader:a,showLoader:function(){a.current.style.display="block"},hideLoader:function(){a.current.style.display="none"}},children:t})},ie=a(30),ce=a(59),se=a(438),le=a(414),de=a(433),ue=a(130),je=a.n(ue),me=a(413),be=a(419),pe=a(420),Oe=a(60),ge=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",display:"flex",flexDirection:"column",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),width:"25%"},field:{marginTop:10},close:{padding:e.spacing(.5)}}})),he=Oe.b().shape({password:Oe.c().min(6,"Too Short!").max(50,"Too Long!").required("Required"),email:Oe.c().email("Invalid email").required("Required")}),xe=function(){var e,t=Object(r.useState)(!1),a=Object(x.a)(t,2),i=a[0],c=a[1],u=Object(r.useState)(""),j=Object(x.a)(u,2),m=j[0],b=j[1],p=Object(l.g)(),O=d.useMutation(B,e),f=Object(x.a)(O,1)[0],v=ge(),y=o.a.useContext(re),w=y.showLoader,N=y.hideLoader;return Object(n.jsxs)(me.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(le.a,{}),Object(n.jsxs)("div",{className:v.paper,children:[Object(n.jsx)(se.a,{className:v.avatar,children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsx)(ce.c,{initialValues:{email:"",password:""},validationSchema:he,onSubmit:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n,r,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setErrors,w(),e.next=4,f({variables:Object(ie.a)({},t),update:function(e,t){var a=t.data;try{var n=null===a||void 0===a?void 0:a.login.user;n&&e.writeQuery({query:H,data:{__typename:"Query",me:n}})}catch(r){console.error(r)}}});case 4:r=e.sent,N(),r.errors?(b("Server Erorr. Please Try Again."),c(!0)):(null===(n=r.data)||void 0===n?void 0:n.login.error)?(b((null===r||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.login)||void 0===i?void 0:i.error)||"Error"),c(!0)):p.push("/posts");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,a=e.getFieldProps,r=e.errors,o=e.values;return Object(n.jsxs)(ce.b,{className:v.form,children:[Object(n.jsx)(de.a,Object(ie.a)({required:!0,error:!!r.email&&""!==o.email,className:v.field,type:"email",label:"Email",id:"email"},a("email"))),Object(n.jsx)(de.a,Object(ie.a)({required:!0,error:!!r.password&&""!==o.password,className:v.field,type:"password",label:"Password",id:"password"},a("password"))),Object(n.jsx)(S.a,{variant:"contained",color:"primary",disabled:t,className:v.submit,type:"submit",children:"Login"}),Object(n.jsx)(be.a,{container:!0,children:Object(n.jsx)(be.a,{item:!0,children:Object(n.jsx)(pe.a,{to:"/register",component:s.b,variant:"body2",children:"Do not have an account? Sign Up"})})})]})}}),Object(n.jsx)(Z,{message:m,open:i,handleClose:function(e,t){"clickaway"!==t&&c(!1)}})]})]})},fe=a(35),ve=a(215),ye=a(218),we=a(432),Ce=function(e){var t=e.field,a=e.form,r=Object(ye.a)(e,["field","form"]);return Object(n.jsx)(we.a,Object(ie.a)({clearable:!0,name:t.name,value:t.value,format:"dd/MM/yyyy",onChange:function(e){return a.setFieldValue(t.name,e,!1)}},r))},Se=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",display:"flex",flexDirection:"column",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),width:"25%"},field:{marginTop:10,width:"100%"},dateField:{width:"100%",marginTop:25}}})),Ne=Oe.b().shape({name:Oe.c().max(50,"Too Long!").required("Required"),password:Oe.c().min(6,"Too Short!").max(50,"Too Long!").required("Required"),email:Oe.c().email("Invalid email").required("Required"),dob:Oe.a().required("Required")}),Pe=function(){var e,t=Object(l.g)(),a=d.useMutation(z,e),i=Object(x.a)(a,1)[0],c=Se(),u=Object(r.useState)(!1),j=Object(x.a)(u,2),m=j[0],b=j[1],p=Object(r.useState)(""),O=Object(x.a)(p,2),f=O[0],v=O[1],y=o.a.useContext(re),w=y.showLoader,N=y.hideLoader;return Object(n.jsxs)(me.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(le.a,{}),Object(n.jsxs)("div",{className:c.paper,children:[Object(n.jsx)(se.a,{className:c.avatar,children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsx)(ce.c,{initialValues:{email:"",password:"",dob:new Date,name:""},validationSchema:Ne,onSubmit:function(){var e=Object(h.a)(g.a.mark((function e(a,n){var r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setErrors,w(),e.next=4,i({variables:Object(ie.a)({},a),update:function(e,t){var a=t.data;try{var n=null===a||void 0===a?void 0:a.register.user;n&&e.writeQuery({query:H,data:{__typename:"Query",me:n}})}catch(r){console.error(r)}}});case 4:o=e.sent,N(),o.errors?(v("Server Erorr. Please Try Again."),b(!0)):(null===(r=o.data)||void 0===r?void 0:r.register.error)?(v(o.data.register.error),b(!0)):t.push("/posts");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,a=e.getFieldProps,r=e.values,o=e.errors;return Object(n.jsxs)(ce.b,{className:c.form,children:[Object(n.jsx)(de.a,Object(ie.a)({required:!0,error:!!o.name&&""!==r.name,className:c.field,type:"name",label:"Name",id:"name"},a("name"))),Object(n.jsx)(de.a,Object(ie.a)({required:!0,error:!!o.email&&""!==r.email,className:c.field,type:"email",label:"Email",id:"email"},a("email"))),Object(n.jsxs)(be.a,{container:!0,spacing:3,children:[Object(n.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(de.a,Object(ie.a)({required:!0,error:!!o.password&&""!==r.password,className:c.field,type:"password",label:"Password",id:"password"},a("password")))}),Object(n.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(fe.a,{utils:ve.a,children:Object(n.jsx)(ce.a,{error:!!o.dob,name:"dob",className:c.dateField,component:Ce})})})]}),Object(n.jsx)(S.a,{variant:"contained",color:"primary",type:"submit",disabled:t,className:c.submit,children:"Sign Up"}),Object(n.jsx)(be.a,{container:!0,children:Object(n.jsx)(be.a,{item:!0,children:Object(n.jsx)(pe.a,{to:"/login",component:s.b,variant:"body2",children:"Have an account? Login"})})})]})}}),Object(n.jsx)(Z,{message:f,open:m,handleClose:function(e,t){"clickaway"!==t&&b(!1)}})]})]})},ke=a(427),Le=a(434),qe=a(47),Te=a(421),Re=a(422),De=a(423),$e=a(211),Fe=a.n($e),Ue=a(439),Ee=a(418),Ie=a(415),Me=a(217),Ae=Object(f.a)((function(e){return Object(v.a)({root:{maxWidth:600,margin:"auto",marginTop:50},header:{backgroundColor:e.palette.grey[100]},input:{display:"none"},inputField:{width:"90%"},cardContent:{marginTop:15,display:"flex"},text:{marginLeft:15,color:e.palette.grey[400],alignSelf:"flex-end"},imgWrap:{display:"inline-block",position:"relative"},close:{fontSize:14,color:"white",backgroundColor:e.palette.grey[800],opacity:.8,borderRadius:"50%",position:"absolute",top:-7,right:-7,transition:"* 0.2 linear","&:hover":{cursor:"pointer",backgroundColor:e.palette.grey[900],transform:"scale(1.1, 1.1)"}}})})),We=function(e){var t,a=e.posts,i=e.setPosts,c=e.currentPage,s=e.setCurrentPage,l=e.limit,u=e.totalCount,j=e.setTotalCount,m=Object(r.useState)(!1),b=Object(x.a)(m,2),p=b[0],O=b[1],f=Object(r.useState)(""),v=Object(x.a)(f,2),y=v[0],w=v[1],N=V(),P=o.a.useContext(re),k=P.showLoader,L=P.hideLoader,q=Ae(),T=d.useMutation(A,t),R=Object(x.a)(T,1)[0],D=Object(r.useState)([]),$=Object(x.a)(D,2),F=$[0],U=$[1],E=Object(Me.a)({accept:"image/jpeg, image/png",multiple:!1,onDrop:function(e){U(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),I=E.getRootProps,M=E.getInputProps,W=function(){U([])},B=F.map((function(e){return Object(n.jsxs)("div",{className:q.imgWrap,children:[Object(n.jsx)("img",{width:250,height:140,src:e.preview,alt:"uploadedImg"}),Object(n.jsx)(X.a,{onClick:W,className:q.close})]},e.name)}));return Object(n.jsx)(n.Fragment,{children:N.loading?null:Object(n.jsxs)(Te.a,{className:q.root,children:[Object(n.jsx)(ce.c,{initialValues:{content:""},validate:function(e){var t;return e.content.length>120&&(t={content:"Too Long"}),t},onSubmit:function(){var e=Object(h.a)(g.a.mark((function e(t,n){var r,o,d,m,b,p,h,x,f,v;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.resetForm,o=n.setErrors,k(),0!==t.content.trim().length){e.next=7;break}o({content:"Can't be empty"}),L(),e.next=22;break;case 7:return e.prev=7,e.next=10,R({variables:Object(ie.a)(Object(ie.a)({},t),{},{picture:F[0]}),update:function(e,t){var a;"Please Login to Continue"===(null===(a=t.data)||void 0===a?void 0:a.addNewPost.error)&&e.evict({fieldName:"me"})}});case 10:m=e.sent,console.log(m),L(),m.errors?(w("Server Erorr. Please Try Again."),O(!0)):(null===(d=m.data)||void 0===d?void 0:d.addNewPost.error)?"Please Login to Continue"!==(null===(b=m.data)||void 0===b?void 0:b.addNewPost.error)&&(w((null===m||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.addNewPost)||void 0===h?void 0:h.error)||"Error"),O(!0)):(U([]),f=null===(x=m.data)||void 0===x?void 0:x.addNewPost.post,0!==c?s(0):((v=Object(qe.a)(a)).unshift(f),a.length>=l&&v.pop(),i(v)),j(u+1),r()),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0.message),w("Server Erorr. Please Try Again."),O(!0),L();case 22:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t,a=e.getFieldProps,r=e.values,o=e.errors,i=e.submitForm;e.setFieldValue;return Object(n.jsxs)(ce.b,{children:[Object(n.jsx)(Re.a,{className:q.header,avatar:Object(n.jsx)(se.a,{"aria-label":"profile-image",src:"https://robohash.org/".concat(N.data.me.name,".png?set=set2")}),action:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",Object(ie.a)(Object(ie.a)({},I({className:"dropzone"})),{},{children:[Object(n.jsx)("input",Object(ie.a)({},M())),Object(n.jsx)(J.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(Fe.a,{})})]})),Object(n.jsx)(S.a,{color:"primary",disabled:!!o.content&&(null===(t=o.content)||void 0===t?void 0:t.length)>0,onClick:function(){i()},children:"Post"})]}),title:N.data.me.name,subheader:"What's on your mind today?"}),Object(n.jsxs)(De.a,{children:[B,Object(n.jsxs)("div",{className:q.cardContent,children:[Object(n.jsxs)(Ie.a,{className:q.inputField,error:!0,children:[Object(n.jsx)(Ue.a,Object(ie.a)({id:"standard-textarea",placeholder:"Say something to the world.",multiline:!0},a("content"))),Object(n.jsx)(Ee.a,{id:"component-error-text",children:o.content})]}),Object(n.jsxs)(C.a,{className:q.text,variant:"caption",display:"block",gutterBottom:!0,children:[r.content.length,"/120"]})]})]})]})}}),Object(n.jsx)(Z,{message:y,open:p,handleClose:function(e,t){"clickaway"!==t&&O(!1)}})]})})},Be=a(424),Qe=Object(f.a)((function(e){return Object(v.a)({card:{maxWidth:600,margin:e.spacing(2)},media:{height:190}})})),ze=function(){var e=Qe();return Object(n.jsxs)(Te.a,{className:e.card,children:[Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(Be.a,{animation:"wave",variant:"circle",width:40,height:40}),title:Object(n.jsx)(Be.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(n.jsx)(Be.a,{animation:"wave",height:10,width:"40%"})}),Object(n.jsx)(Be.a,{animation:"wave",variant:"rect",className:e.media}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(Be.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(n.jsx)(Be.a,{animation:"wave",height:10,width:"80%"})]})})]})},Ge=a(425),He=a(426),Ve=a(132),_e=a(212),Je=a.n(_e),Ke=Object(f.a)((function(e){return Object(v.a)({root:{maxWidth:600,margin:"auto",marginTop:e.spacing(2)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ve.a[500]},text:{margin:"auto 0",color:e.palette.grey[700]},liked:{color:"#FE2733"}})})),Xe=function(e){var t,a=e.postId,o=e.content,i=e.username,c=e.createdOn,s=e.imgUrl,l=e.numberOfLikes,u=e.isUserLiked,j=Ke(),m=Object(r.useState)(l),b=Object(x.a)(m,2),p=b[0],O=b[1],f=Object(r.useState)(u),v=Object(x.a)(f,2),y=v[0],w=v[1],S=d.useMutation(W,t),N=Object(x.a)(S,1)[0],P=function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(y?p-1:p+1),w(!y),e.next=4,N({variables:{postId:a}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(Te.a,{className:j.root,children:[Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(se.a,{"aria-label":"profile-image",src:"https://robohash.org/".concat(i,".png?set=set2")}),title:i,subheader:c.toLocaleDateString("in")}),Object(n.jsx)(De.a,{children:Object(n.jsx)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:o})}),s?Object(n.jsx)(Ge.a,{className:j.media,image:s,title:"Post Image"}):null,Object(n.jsxs)(He.a,{disableSpacing:!0,children:[Object(n.jsx)(J.a,{onClick:P,"aria-label":"add to favorites",children:Object(n.jsx)(Je.a,{className:y?j.liked:""})}),Object(n.jsxs)(C.a,{className:j.text,variant:"caption",display:"block",gutterBottom:!0,children:[p," Likes"]})]})]})},Ye=Object(f.a)((function(e){return Object(v.a)({bg:{minHeight:"100vh",marginBottom:20},divider:{marginTop:20},pagination:{margin:"50px auto",width:"85%"}})})),Ze=function(){var e,t=Ye(),a=Object(r.useState)([]),o=Object(x.a)(a,2),i=o[0],c=o[1],s=Object(r.useState)(0),l=Object(x.a)(s,2),u=l[0],j=l[1],m=Object(r.useState)(0),b=Object(x.a)(m,2),p=b[0],O=b[1],g=(e={variables:{limit:5,page:0},onCompleted:function(e){if(e.getPosts.posts){c(e.getPosts.posts);var t=e.getPosts.count;O(t)}},onError:function(e){console.log(e.message)},fetchPolicy:"network-only"},d.useLazyQuery(G,e)),h=Object(x.a)(g,2),f=h[0],v=h[1].loading;return Object(r.useEffect)((function(){window.scroll({top:0,left:0,behavior:"smooth"}),f({variables:{limit:5,page:u}})}),[u]),Object(n.jsxs)(me.a,{className:t.bg,maxWidth:"sm",children:[Object(n.jsx)(We,{posts:i,setPosts:c,currentPage:u,setCurrentPage:j,limit:5,totalCount:p,setTotalCount:O}),Object(n.jsx)(ke.a,{className:t.divider,variant:"middle"}),v?Object(n.jsx)(ze,{}):Object(n.jsxs)(n.Fragment,{children:[i.map((function(e){return Object(n.jsx)(Xe,{postId:e.id,username:e.creator.name,content:e.content,createdOn:new Date(Number(e.createdAt)),imgUrl:e.imagePath,isUserLiked:e.hasUserLiked,numberOfLikes:e.numberOfLikes},e.id)})),Object(n.jsx)(Le.a,{showFirstButton:!0,showLastButton:!0,className:t.pagination,count:Math.ceil(p/5),page:u+1,onChange:function(e,t){j(t-1)},color:"primary"})]})]})},et=a(440),tt=a(436),at=a(213),nt=a.n(at),rt=a(104),ot=a.n(rt),it=Object(f.a)((function(e){return Object(v.a)({exampleWrapper:{height:380,margin:e.spacing(2),position:"fixed",bottom:15,right:23},icon:{backgroundColor:e.palette.secondary.main},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})})),ct={blue:{primaryColor:"#1976d2",secondaryColor:"#DC004E"},purple:{primaryColor:"#8e24aa",secondaryColor:"#3d5afe"},green:{primaryColor:"#43a047",secondaryColor:"#651fff"},red:{primaryColor:"#e53935",secondaryColor:"#3d5afe"}},st=[{icon:Object(n.jsx)(ot.a,{htmlColor:"#1976D2"}),name:"Blue"},{icon:Object(n.jsx)(ot.a,{htmlColor:"#8e24aa"}),name:"Purple"},{icon:Object(n.jsx)(ot.a,{htmlColor:"#43a047"}),name:"Green"},{icon:Object(n.jsx)(ot.a,{htmlColor:"#e53935"}),name:"Red"}],lt=function(){var e=it(),t=o.a.useState(!1),a=Object(x.a)(t,2),r=a[0],i=a[1],c=o.a.useContext(ae),s=function(){i(!1)};return Object(n.jsx)("div",{className:e.exampleWrapper,children:Object(n.jsx)(et.a,{ariaLabel:"SpeedDial example",className:e.speedDial,icon:Object(n.jsx)(nt.a,{}),onClose:s,onOpen:function(){i(!0)},open:r,color:"red",direction:"up",children:st.map((function(e){return Object(n.jsx)(tt.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(){return function(e){var t=ct[e.toLowerCase()];c.setPrimaryColor(t.primaryColor),c.setSecondaryColor(t.secondaryColor),s()}(e.name)}},e.name)}))})})},dt=Object(f.a)((function(e){return Object(v.a)({bg:{maxHeight:"100vh"},mainText:{textAlign:"center"},subText:{textAlign:"center"},textContainer:{marginTop:"20vh",display:"flex",flexDirection:"column"},btn:{margin:"0 auto"}})})),ut=function(){var e,t=dt(),a=V();return Object(n.jsx)(me.a,{className:t.bg,maxWidth:"sm",children:Object(n.jsxs)("div",{className:t.textContainer,children:[Object(n.jsx)(C.a,{className:t.mainText,variant:"h3",gutterBottom:!0,children:"Welcome to"}),Object(n.jsx)(C.a,{className:t.subText,variant:"h2",gutterBottom:!0,children:"Demo App"}),a.loading?null:Object(n.jsx)(S.a,{className:t.btn,component:s.b,to:(null===(e=a.data)||void 0===e?void 0:e.me)?"/posts":"/login",color:"secondary",variant:"contained",children:"Get Started"})]})})},jt=p()({uri:"/graphql",credentials:"include"}),mt=new d.ApolloClient({link:jt,cache:new d.InMemoryCache}),bt=function(){var e=r.useContext(ae),t=r.useContext(re).loader,a=r.useMemo((function(){return Object(u.a)({palette:{primary:{main:e.primaryColor},secondary:{main:e.secondaryColor}}})}),[e]);return Object(n.jsx)(d.ApolloProvider,{client:mt,children:Object(n.jsxs)(j.a,{theme:a,children:[Object(n.jsx)(te,{}),Object(n.jsx)(m.a,{style:{display:"none"},ref:t}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:function(){return Object(n.jsx)(ut,{})}}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:function(){return Object(n.jsx)(xe,{})}}),Object(n.jsx)(l.b,{exact:!0,path:"/register",component:function(){return Object(n.jsx)(Pe,{})}}),Object(n.jsx)(l.b,{exact:!0,path:"/posts",component:function(){return Object(n.jsx)(Ze,{})}}),Object(n.jsx)(l.a,{to:"/"})]}),Object(n.jsx)(lt,{})]})})};a(363);c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(s.a,{children:Object(n.jsx)(ne,{children:Object(n.jsx)(oe,{children:Object(n.jsx)(bt,{})})})})}),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.86fff39f.chunk.js.map